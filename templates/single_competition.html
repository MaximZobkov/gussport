{% extends "base.html" %}

{% block content %}
    <div class="container mt-4">
        <div class="card card-new bg-white" style="border-radius: 10px;">
            <h2 align="center"
                style="padding-right: 5px; padding-left: 5px;"> {{ competition.name }} </h2> <br>
            <span class="single_comp">
                        {% for text in competition.short_description.split('\n') %}
                            <p style="text-indent: 10px; padding-right: 5px; padding-left: 5px;"> {{ text }} </p>
                        {% endfor %}
                        </span>
            <p style="padding-right: 5px; padding-left: 5px;"><b>Тип
                соревнования:</b> {{ competition.type }}
            </p>
            <p style="padding-right: 5px; padding-left: 5px;"><b>Дата
                проведения: </b> {{ competition.event_date_start }} года
                в {{ competition.event_time_start }} </p>
            <p style="padding-right: 5px; padding-left: 5px;"><b>Начало регистрации на
                соревнования: </b> {{ competition.registration_start }} </p>
            <p style="padding-right: 5px; padding-left: 5px;"><b>Последний день
                регистрации: </b> {{ competition.registration_end }} </p>
            <table style="padding: 5px">
                <tr>
                    <td><b>Категория</b></td>
                    {% for i in range(competition.groups_count) %}
                        <td>{{ groups_array[i][0] }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td><b>Дистанция</b></td>
                    {% for i in range(competition.groups_count) %}
                        <td>{{ groups_array[i][2] }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td><b>Кол-во человек</b></td>
                    {% for i in range(competition.groups_count) %}
                        <td>{{ groups_array[i][1] }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td><b>Время старта</b></td>
                    {% for i in range(competition.groups_count) %}
                        <td>{{ groups_array[i][3] }}</td>
                    {% endfor %}
                </tr>
                <tr>
                    <td><b>Оплата</b></td>
                    {% for i in range(competition.groups_count) %}
                        <td>{{ groups_array[i][4] }}</td>
                    {% endfor %}
                </tr>
            </table>
        </div>
        <div class="card-button">
            <a style="width: 100%" href="/table_of_registered_users/{{ competition.url }}" class="btn bg-white">Список
                всех участников</a>
            <a style="width: 100%" href="/{{ competition.file }}"
               class="btn bg-white"
               target="_blank">Положение соревнования</a>
            {% if current_user.is_authenticated %}
                <a style="width: 100%; border: 1px solid black;" class="btn bg-white"
                   href="/register_to_competition/{{ competition.url }}/{{ current_user.id }}/no/{{ competition.kol_vo_player }}">
                    Зарегистрироваться на соревнование</a>
            {% else %}
                <a style="width: 100%;border: 1px solid black;" class="btn bg-white" href="/not_authorized">
                    Зарегистрироваться на соревнование</a>
            {% endif %}
        </div>
    </div>
{% endblock %}